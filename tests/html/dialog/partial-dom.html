<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8">
<title>Dialog Box :: Partial DOM test</title>

<link rel="stylesheet" href="../../styles/dialog/dialog.css">
<link rel="stylesheet" href="../_assets/base.css">

<script type="module">
  import * as dom from '../../html/_lib/utils/dom.js'
  import Dialog from '../../html/dialog/dialog.js'

  const dialog = new Dialog(dom.$id('foo'))

  dom.$cls('dialog__open').addEventListener('click', () => dialog.open().then(() => {
    document.addEventListener('click', () => Dialog.close(), { once: true })
  }))
</script>


<h1>Dialog Box :: Partial DOM test</h1>

<p>
  In this test, the DOM for the dialog box is a simple <code>div</code> element within
  the HTML document, the script will fill its missing attributes, will add the missing
  <code>section.dialog__main</code> element (which will wrap any existing content) and
  will manage its state. The dialog box provides no button to close it, so we use the
  async Dialog API to attach a click event to the document to close the Dialog once
  it's open.</p>

<p class="warning">
  <strong>Warning:</strong> Because the target <code>div</code> element doesn't have an
  <code>aria-label</code> nor an <code>aria-labelledby</code> attribute, an error will be
  send out to the browser console for debugging purposes.</p>

<button class="dialog__open">Open Dialog</button>

<div id="foo">Lorem ipsum dolor sit amet consectetur adipisicing elit. Recusandae dolorem praesentium at dignissimos quod atque laborum architecto minus maxime excepturi, consequuntur, deserunt repellat doloribus veniam deleniti, repudiandae inventore dolores doloremque!</div>
